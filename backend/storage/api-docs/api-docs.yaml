openapi: 3.0.0
info:
  title: 'E-commerce Modular API'
  description: 'Tài liệu API hệ thống E-commerce'
  contact:
    email: admin@system.com
  version: 1.0.0
servers:
  -
    url: /api
    description: 'API Server'
paths:
  /addresses:
    get:
      tags:
        - Address
      summary: 'Lấy danh sách địa chỉ của tôi'
      operationId: daee3e5ef82ac6db0e154ac5a54a74a1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: object
                type: object
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Address
      summary: 'Thêm địa chỉ mới'
      operationId: 518a68f89c5990fb8f601ccca9fc8da8
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - full_name
                - phone
                - province
                - district
                - ward
                - street
              properties:
                full_name:
                  type: string
                  example: 'Nguyen Van A'
                phone:
                  type: string
                  example: '0901234567'
                province:
                  type: string
                district:
                  type: string
                ward:
                  type: string
                street:
                  type: string
                is_default:
                  type: boolean
                  example: false
                type:
                  type: string
                  enum:
                    - home
                    - office
                  example: home
              type: object
      responses:
        201:
          description: Created
        422:
          description: 'Validation Error'
      security:
        -
          bearerAuth: []
  '/addresses/{uuid}':
    get:
      tags:
        - Address
      summary: 'Xem chi tiết địa chỉ'
      operationId: ed5d48599f4e65459daf636c6948c6fd
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Address
      summary: 'Cập nhật địa chỉ'
      operationId: 012e1a8fc981036ab80e2f094b94f859
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                full_name:
                  type: string
                phone:
                  type: string
                is_default:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Address
      summary: 'Xóa địa chỉ'
      operationId: 88f6862b99dd137b32657d71a8bf7713
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /auth/login:
    post:
      tags:
        - Auth
      summary: 'Đăng nhập'
      operationId: 3112494b62ec1e0e762028e958cef77b
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: admin@system.com
                password:
                  type: string
                  format: password
                  example: password
                device_name:
                  type: string
                  example: web
              type: object
      responses:
        200:
          description: 'Login Successful'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    properties:
                      access_token:
                        type: string
                      refresh_token:
                        type: string
                      token_type:
                        type: string
                        example: Bearer
                      user:
                        type: object
                    type: object
                type: object
        401:
          description: 'Invalid credentials'
        403:
          description: 'Account inactive'
  /auth/register:
    post:
      tags:
        - Auth
      summary: 'Đăng ký tài khoản'
      operationId: ec3aaa6aae353212c6d4173ea25748b2
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
                - email
                - password
                - password_confirmation
              properties:
                name:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
                  format: password
                password_confirmation:
                  type: string
                  format: password
                device_name:
                  type: string
              type: object
      responses:
        201:
          description: 'Registered Successfully'
        422:
          description: 'Validation Error'
  /auth/refresh:
    post:
      tags:
        - Auth
      summary: 'Lấy Access Token mới bằng Refresh Token'
      operationId: 54138472c166d1a1f706bb95f3eeddb4
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - refresh_token
              properties:
                refresh_token:
                  type: string
                device_name:
                  type: string
              type: object
      responses:
        200:
          description: 'Token Refreshed'
        401:
          description: 'Invalid Refresh Token'
  /auth/logout:
    post:
      tags:
        - Auth
      summary: 'Đăng xuất'
      operationId: d5ba94626f1419f9a308da15ed09a40e
      responses:
        200:
          description: 'Logged out'
      security:
        -
          bearerAuth: []
  /auth/me:
    get:
      tags:
        - Auth
      summary: 'Thông tin hiện tại'
      operationId: 7e7256de38556bc24ecc0dcf65266aa2
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
  /carts:
    get:
      tags:
        - Cart
      summary: 'Xem giỏ hàng của tôi'
      operationId: 09c3433b5866644b5e6d84c885aa4f44
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                type: object
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Cart
      summary: 'Thêm sản phẩm vào giỏ'
      operationId: f54d6540bce234d581cf30b75f9cc7f2
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - variant_uuid
                - quantity
              properties:
                variant_uuid:
                  type: string
                  format: uuid
                quantity:
                  type: integer
                  minimum: 1
              type: object
      responses:
        200:
          description: Added
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Cart
      summary: 'Làm trống giỏ hàng'
      operationId: b7f118663b800d671b1d4923c73dfb3f
      responses:
        200:
          description: Cleared
      security:
        -
          bearerAuth: []
  '/carts/{itemUuid}':
    put:
      tags:
        - Cart
      summary: 'Cập nhật số lượng item'
      operationId: 3bdd0b23b2e8c4ca46213f04b3504c0d
      parameters:
        -
          name: itemUuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                quantity:
                  type: integer
                  minimum: 0
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
  '/carts/{uuid}':
    delete:
      tags:
        - Cart
      summary: 'Xóa item'
      operationId: 919339c6a2f66c87e8da185e0e12843c
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /carts/apply-coupon:
    post:
      tags:
        - Cart
      summary: 'Áp dụng mã giảm giá'
      operationId: 3cb434fb6dcd66169123e88096ee033d
      requestBody:
        content:
          application/json:
            schema:
              required:
                - code
              properties:
                code:
                  type: string
                  example: SALE50
              type: object
      responses:
        200:
          description: Applied
      security:
        -
          bearerAuth: []
  /carts/remove-coupon:
    delete:
      tags:
        - Cart
      summary: 'Gỡ mã giảm giá'
      operationId: 7530d6adadae897ba3c50bad29f67880
      responses:
        200:
          description: Removed
      security:
        -
          bearerAuth: []
  /public/categories:
    get:
      tags:
        - Categories
      summary: 'Xem danh sách danh mục (Public)'
      operationId: bebab8114cd078f494482e66e6892b3e
      parameters:
        -
          name: tree
          in: query
          description: 'Trả về dạng cây phân cấp'
          schema:
            type: boolean
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
      responses:
        200:
          description: Success
  /admin/categories:
    post:
      tags:
        - Categories
      summary: 'Tạo danh mục mới (Admin)'
      operationId: 18403f5d3dc85a743d7b64c6823b6569
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                  example: Electronics
                slug:
                  type: string
                  example: electronics
                parent_id:
                  type: integer
                  example: 1
                description:
                  type: string
                is_active:
                  type: boolean
                  default: true
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/categories/{uuid}':
    put:
      tags:
        - Categories
      summary: 'Cập nhật danh mục (Admin)'
      operationId: 896494ab0c8a816b2a1a8438f1582443
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                parent_id:
                  type: integer
                description:
                  type: string
                is_active:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Categories
      summary: 'Xóa danh mục (Admin)'
      operationId: 2e7a41d97a8a554f659f94b5ea9800c2
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  '/public/categories/{uuid}':
    get:
      tags:
        - Categories
      summary: 'Xem chi tiết danh mục'
      operationId: d49a3ecc3083c299e227cb404121eb2c
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
  /public/collections:
    get:
      tags:
        - Collections
      summary: 'Lấy danh sách bộ sưu tập (Public)'
      operationId: d466028193674eb65822470aadbc65f3
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
      responses:
        200:
          description: Success
  '/public/collections/{uuid}':
    get:
      tags:
        - Collections
      summary: 'Xem chi tiết bộ sưu tập'
      description: 'Trả về thông tin collection và danh sách sản phẩm kèm variant (để lấy giá).'
      operationId: 2b625d099f9641a799646b2dc72f7963
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
  /admin/collections:
    post:
      tags:
        - Collections
      summary: 'Tạo bộ sưu tập (Admin)'
      operationId: ebc20aeba9d988fcb7e9bdea1dbc9b6c
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                slug:
                  type: string
                description:
                  type: string
                banner_image:
                  type: string
                  format: binary
                'product_ids[]':
                  type: array
                  items:
                    type: integer
                is_active:
                  type: boolean
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/collections/{uuid}':
    post:
      tags:
        - Collections
      summary: 'Cập nhật bộ sưu tập (Admin) - Method POST for FormData'
      description: 'Sử dụng POST với _method=PUT để upload file trong form-data'
      operationId: 6b5fb875bdcfda4404063fb3e75d978b
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                _method:
                  type: string
                  example: PUT
                name:
                  type: string
                banner_image:
                  type: string
                  format: binary
                'product_ids[]':
                  type: array
                  items:
                    type: integer
                is_active:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Collections
      summary: 'Xóa bộ sưu tập (Admin)'
      operationId: 417228e9f43d14bfdd4442395eea2f34
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /public/currencies:
    get:
      tags:
        - Currencies
      summary: 'Lấy danh sách tiền tệ hỗ trợ (Public)'
      operationId: 654a2fc5b3d2734f2c716dac287a63a2
      responses:
        200:
          description: Success
  /admin/currencies:
    get:
      tags:
        - Currencies
      summary: 'Quản lý danh sách tiền tệ (Admin)'
      operationId: 00372af0b6ba8daac270146114fb6e60
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Currencies
      summary: 'Thêm tiền tệ mới'
      operationId: 2f59f32def05570122e406bd5c0aab78
      requestBody:
        content:
          application/json:
            schema:
              required:
                - code
                - name
                - symbol
                - exchange_rate
              properties:
                code:
                  type: string
                  example: USD
                name:
                  type: string
                  example: 'US Dollar'
                symbol:
                  type: string
                  example: $
                exchange_rate:
                  type: number
                  format: float
                  example: 4.0E-5
                is_default:
                  type: boolean
                is_active:
                  type: boolean
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/currencies/{uuid}':
    put:
      tags:
        - Currencies
      summary: 'Cập nhật tiền tệ'
      operationId: b245f13a4603d64fc44b60c42663dda6
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                exchange_rate:
                  type: number
                is_default:
                  type: boolean
                is_active:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Currencies
      summary: 'Xóa tiền tệ'
      operationId: 3ead392faf8836f1d1edc0589e5f529b
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /admin/dashboard/summary:
    get:
      tags:
        - Dashboard
      summary: 'Lấy toàn bộ dữ liệu Dashboard'
      description: 'Trả về Cards, Revenue Chart, Customer Chart, Top Spenders, Best Sellers.'
      operationId: 14ceca394afefb2231852083fc45b254
      parameters:
        -
          name: period
          in: query
          description: 'Khoảng thời gian cho biểu đồ doanh thu'
          schema:
            type: string
            default: week
            enum:
              - week
              - year
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    properties:
                      cards:
                        properties:
                          total_revenue:
                            type: number
                          revenue_growth:
                            type: number
                          total_orders:
                            type: integer
                          total_users:
                            type: integer
                          low_stock_variants:
                            type: integer
                        type: object
                      revenue_chart:
                        type: array
                        items:
                          properties:
                            date:
                              type: string
                            label:
                              type: string
                            value:
                              type: number
                          type: object
                      customer_stats:
                        type: object
                      top_spenders:
                        type: array
                        items: []
                      best_sellers:
                        type: array
                        items: []
                    type: object
                type: object
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
  /admin/inventories:
    get:
      tags:
        - Inventory
      summary: 'Xem danh sách tồn kho'
      operationId: 60f3767a8279f38400634bcec6ff93a0
      parameters:
        -
          name: warehouse_uuid
          in: query
          schema:
            type: string
            format: uuid
        -
          name: search
          in: query
          description: 'Tìm tên SP hoặc SKU'
          schema:
            type: string
        -
          name: page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
  /admin/inventories/adjust:
    post:
      tags:
        - Inventory
      summary: 'Điều chỉnh kho (Nhập/Xuất)'
      description: 'Dùng để nhập hàng (+qty) hoặc xuất hủy (-qty).'
      operationId: 9441ce1bc67b536dcded5b2d56ba04fb
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - variant_uuid
                - warehouse_uuid
                - quantity
              properties:
                variant_uuid:
                  type: string
                  format: uuid
                warehouse_uuid:
                  type: string
                  format: uuid
                quantity:
                  description: 'Số dương để nhập, số âm để xuất'
                  type: integer
                reason:
                  type: string
                  example: 'Nhập hàng mới'
              type: object
      responses:
        200:
          description: Adjusted
      security:
        -
          bearerAuth: []
  /admin/inventories/upsert:
    post:
      tags:
        - Inventory
      summary: 'Set cứng tồn kho (Kiểm kê)'
      operationId: 109e5267df7045ba5112570cb42f07a3
      requestBody:
        content:
          application/json:
            schema:
              required:
                - variant_uuid
                - warehouse_uuid
                - quantity
              properties:
                variant_uuid:
                  type: string
                warehouse_uuid:
                  type: string
                quantity:
                  description: 'Số lượng thực tế'
                  type: integer
                min_threshold:
                  type: integer
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
  /admin/logs:
    get:
      tags:
        - 'System Logs'
      summary: 'Xem danh sách Log'
      operationId: 682c7487c29b68fd9dbbd61477696034
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
        -
          name: type
          in: query
          description: 'audit, system_error'
          schema:
            type: string
        -
          name: user_id
          in: query
          schema:
            type: integer
        -
          name: date_from
          in: query
          schema:
            type: string
            format: date
        -
          name: date_to
          in: query
          schema:
            type: string
            format: date
      responses:
        200:
          description: Success
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
  '/admin/logs/{uuid}':
    get:
      tags:
        - 'System Logs'
      summary: 'Xem chi tiết Log'
      operationId: c7c9b88cabffbd44d6ef387e741c7f4d
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
  /admin/media:
    post:
      tags:
        - Media
      summary: 'Upload file (Generic)'
      description: 'Upload file gắn vào User hiện tại (Ví dụ: Avatar tạm).'
      operationId: 33992e41f72a9c0d3895e75e0f3939ba
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  type: string
                  format: binary
                collection:
                  type: string
                  default: default
              type: object
      responses:
        201:
          description: Uploaded
      security:
        -
          bearerAuth: []
  '/admin/media/{uuid}':
    delete:
      tags:
        - Media
      summary: 'Xóa file/ảnh'
      operationId: 8e0e6f7ed14a2041f068fe752221dd5e
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /notifications:
    get:
      tags:
        - Notifications
      summary: 'Lấy danh sách thông báo'
      operationId: 945df4ec12a434066af5174c3cfcdd73
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
  '/notifications/{uuid}/read':
    patch:
      tags:
        - Notifications
      summary: 'Đánh dấu đã đọc 1 thông báo'
      operationId: 72a26746caef2751340b557fb934f6f1
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Marked as read'
      security:
        -
          bearerAuth: []
  /notifications/read-all:
    post:
      tags:
        - Notifications
      summary: 'Đánh dấu đã đọc tất cả'
      operationId: f421c6c894f390ac43d4185094f065da
      responses:
        200:
          description: 'All read'
      security:
        -
          bearerAuth: []
  '/notifications/{uuid}':
    delete:
      tags:
        - Notifications
      summary: 'Xóa thông báo'
      operationId: ad9d090bf69c03a9630d37119929ff1e
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /orders:
    get:
      tags:
        - Orders
      summary: 'Xem danh sách đơn hàng'
      operationId: 4e011b1dd08685b7386fdce144bf8f7b
      parameters:
        -
          name: status
          in: query
          schema:
            type: string
            enum:
              - pending
              - processing
              - shipped
              - delivered
              - cancelled
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Orders
      summary: 'Tạo đơn hàng thủ công (Admin)'
      operationId: 6dc386d376574a4249e0ddb0cbcb2359
      requestBody:
        content:
          application/json:
            schema:
              required:
                - address_id
                - items
              properties:
                address_id:
                  type: integer
                notes:
                  type: string
                items:
                  type: array
                  items:
                    properties:
                      variant_uuid:
                        type: string
                        format: uuid
                      quantity:
                        type: integer
                    type: object
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  /orders/checkout:
    post:
      tags:
        - Orders
      summary: 'Đặt hàng từ giỏ hàng (Checkout)'
      operationId: d214f391766889d74685377a5f161aaa
      requestBody:
        content:
          application/json:
            schema:
              required:
                - address_id
              properties:
                address_id:
                  type: integer
                notes:
                  type: string
              type: object
      responses:
        201:
          description: 'Order placed'
      security:
        -
          bearerAuth: []
  '/orders/{uuid}':
    get:
      tags:
        - Orders
      summary: 'Xem chi tiết đơn hàng'
      operationId: f15bfcfbe0db066bb7ed1468987c7689
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
  '/orders/{uuid}/status':
    put:
      tags:
        - Orders
      summary: 'Cập nhật trạng thái (Admin)'
      operationId: 2da87d031f5ba61349c98a9c8105c22e
      requestBody:
        content:
          application/json:
            schema:
              required:
                - status
              properties:
                status:
                  type: string
                  enum:
                    - processing
                    - shipped
                    - delivered
                    - cancelled
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
  '/orders/{uuid}/cancel':
    post:
      tags:
        - Orders
      summary: 'Hủy đơn hàng'
      operationId: 68403667692512eb7b881131b53ff0d5
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Cancelled
      security:
        -
          bearerAuth: []
  /payments:
    get:
      tags:
        - Payments
      summary: 'Lịch sử giao dịch'
      operationId: d2cb9e33536e2a3d10ea0e21861315fd
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: status
          in: query
          schema:
            type: string
            enum:
              - pending
              - paid
              - failed
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Payments
      summary: 'Tạo yêu cầu thanh toán (Initiate Payment)'
      operationId: 919d9707a0f0b62ff9bb94318680424b
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - order_uuid
                - method
              properties:
                order_uuid:
                  type: string
                  format: uuid
                method:
                  type: string
                  enum:
                    - cod
                    - momo
                    - vnpay
              type: object
      responses:
        200:
          description: 'Payment Initiated'
      security:
        -
          bearerAuth: []
  '/payments/{uuid}':
    get:
      tags:
        - Payments
      summary: 'Xem chi tiết giao dịch'
      operationId: 2a56147aab532093b44a043f87eaa1d9
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Payments
      summary: 'Cập nhật trạng thái (Admin Only)'
      operationId: 3e17e5a5f80fdbfe49a6536073361ca6
      requestBody:
        content:
          application/json:
            schema:
              properties:
                status:
                  type: string
                  enum:
                    - paid
                    - failed
                    - refunded
                transaction_id:
                  type: string
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
  '/payments/callback/{provider}':
    post:
      tags:
        - Payments
      summary: 'Webhook nhận kết quả thanh toán'
      operationId: 62edbc63f5e9271506b563cdbf3d58b6
      parameters:
        -
          name: provider
          in: path
          schema:
            type: string
      responses:
        200:
          description: 'IPN Received'
  /admin/permissions:
    get:
      tags:
        - Permissions
      summary: 'Danh sách Permissions'
      operationId: e5fd5ca862c74d1c6e3ea0017ab9a814
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Permissions
      summary: 'Tạo Permission'
      operationId: cc51094ec0d89bee1d1a6644706945fd
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                  example: product.view
                description:
                  type: string
                module:
                  type: string
              type: object
      responses:
        201:
          description: Created
        422:
          description: 'Validation Error'
      security:
        -
          bearerAuth: []
  /admin/my-permissions:
    get:
      tags:
        - Permissions
      summary: 'Quyền của tôi'
      operationId: dc80f999cd8f0559ceeb47a87ce4b29b
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: string
                type: object
      security:
        -
          bearerAuth: []
  /admin/attributes:
    get:
      tags:
        - 'Product Attributes'
      summary: 'Lấy danh sách thuộc tính'
      operationId: 1f12a7dd1b0cec51ec4319fabcfdc10c
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - 'Product Attributes'
      summary: 'Tạo thuộc tính mới'
      operationId: 4475e2cd2ab84959216286c3636ac2dd
      requestBody:
        content:
          application/json:
            schema:
              required:
                - name
                - slug
                - type
              properties:
                name:
                  type: string
                  example: Color
                slug:
                  type: string
                  example: color
                type:
                  type: string
                  enum:
                    - text
                    - select
                    - color
                values:
                  type: array
                  items:
                    properties:
                      value:
                        type: string
                      code:
                        type: string
                    type: object
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/attributes/{uuid}':
    get:
      tags:
        - 'Product Attributes'
      summary: 'Xem chi tiết'
      operationId: afdc562bcdad746dbce008a2c8b01e97
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - 'Product Attributes'
      summary: 'Cập nhật thuộc tính'
      operationId: 57b9037bc9ae539b0cb1bdb361623b15
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                values:
                  type: array
                  items:
                    type: object
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - 'Product Attributes'
      summary: 'Xóa thuộc tính'
      operationId: 845c78f96a1f20ba328c8b262ee336e4
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /public/products:
    get:
      tags:
        - Products
      summary: 'Danh sách sản phẩm (Public)'
      description: 'Lấy danh sách sản phẩm active. Hỗ trợ lọc Flash Sale, Giá, Danh mục.'
      operationId: f089d65f31dc82c6e3b80e06c542463f
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
            default: 1
        -
          name: per_page
          in: query
          schema:
            type: integer
            default: 15
        -
          name: search
          in: query
          description: 'Tìm theo tên/SKU'
          schema:
            type: string
        -
          name: category_uuid
          in: query
          schema:
            type: string
            format: uuid
        -
          name: price_min
          in: query
          description: 'Giá sàn (VND)'
          schema:
            type: integer
        -
          name: price_max
          in: query
          description: 'Giá trần (VND)'
          schema:
            type: integer
        -
          name: is_flash_sale
          in: query
          description: 'Chỉ lấy sản phẩm đang giảm giá'
          schema:
            type: boolean
        -
          name: sort_by
          in: query
          schema:
            type: string
            enum:
              - latest
              - price_asc
              - price_desc
              - best_selling
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: object
                  meta:
                    type: object
                type: object
  /admin/products:
    get:
      tags:
        - Products
      summary: 'Danh sách sản phẩm (Admin)'
      description: 'Lấy toàn bộ sản phẩm bao gồm cả ẩn/hiện.'
      operationId: 90b09429681f249365da59a28870cfb5
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
        -
          name: is_active
          in: query
          schema:
            type: boolean
        -
          name: is_flash_sale
          in: query
          schema:
            type: boolean
      responses:
        200:
          description: Success
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Products
      summary: 'Tạo sản phẩm mới'
      operationId: 6cac846a61b72104adff1ee91bd8f69b
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
                - category_uuid
              properties:
                name:
                  type: string
                  example: 'Sofa Da Bò Ý'
                category_uuid:
                  type: string
                  format: uuid
                description:
                  type: string
                price:
                  description: 'Giá VND (BigInt)'
                  type: integer
                has_variants:
                  type: boolean
                  default: false
                is_active:
                  type: boolean
                  default: true
                variants:
                  type: array
                  items:
                    properties:
                      sku:
                        type: string
                      price:
                        type: integer
                      stock:
                        type: array
                        items:
                          properties:
                            warehouse_uuid:
                              type: string
                            quantity:
                              type: integer
                          type: object
                    type: object
              type: object
      responses:
        201:
          description: 'Created Successfully'
        422:
          description: 'Validation Error'
      security:
        -
          bearerAuth: []
  '/public/products/{uuid}':
    get:
      tags:
        - Products
      summary: 'Chi tiết sản phẩm'
      operationId: b96e795a251da1d56654b459cec75057
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
        404:
          description: 'Not Found'
  '/admin/products/{uuid}':
    put:
      tags:
        - Products
      summary: 'Cập nhật sản phẩm'
      operationId: ff7d7b298b0d62cf0b4503308d3af809
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                description:
                  type: string
                price:
                  type: integer
                is_active:
                  type: boolean
              type: object
      responses:
        200:
          description: 'Updated Successfully'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Products
      summary: 'Xóa sản phẩm (Soft Delete)'
      operationId: 997ef24991477503409e3edfd16a1553
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: 'Deleted Successfully'
      security:
        -
          bearerAuth: []
  '/admin/products/{uuid}/images':
    post:
      tags:
        - 'Product Images'
      summary: 'Upload ảnh'
      operationId: 34871052eb1f635905f8fcb6c557c603
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                image:
                  type: string
                  format: binary
                is_primary:
                  type: boolean
              type: object
      responses:
        201:
          description: Uploaded
      security:
        -
          bearerAuth: []
  '/admin/product-images/{uuid}':
    delete:
      tags:
        - 'Product Images'
      summary: 'Xóa ảnh'
      operationId: f7978e2e0e8a4fb631fc0685898fe068
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /admin/promotions:
    get:
      tags:
        - Promotions
      summary: 'Lấy danh sách khuyến mãi'
      operationId: 815501f4796ccd641aaf926b1f9bdaa4
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
        -
          name: is_active
          in: query
          schema:
            type: boolean
        -
          name: valid_now
          in: query
          schema:
            description: 'Chỉ lấy khuyến mãi đang chạy'
            type: boolean
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Promotions
      summary: 'Tạo mới khuyến mãi'
      operationId: 8280d34b6047f93dd7aefad48126a922
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
                - type
                - value
                - start_date
                - end_date
              properties:
                name:
                  type: string
                  example: 'Flash Sale 11/11'
                type:
                  type: string
                  enum:
                    - percentage
                    - fixed
                value:
                  description: '10% hoặc 50000 VND'
                  type: integer
                  example: 10
                start_date:
                  type: string
                  format: date-time
                end_date:
                  type: string
                  format: date-time
                product_ids:
                  type: array
                  items:
                    type: integer
                is_active:
                  type: boolean
                  default: true
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/promotions/{uuid}':
    get:
      tags:
        - Promotions
      summary: 'Xem chi tiết khuyến mãi'
      operationId: 90f53a56a3e227f3c48e96cfebcc29ed
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Promotions
      summary: 'Cập nhật khuyến mãi'
      operationId: bad7f0f192a9b0095bc1390f390d90a6
      requestBody:
        content:
          application/json:
            schema:
              properties: []
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Promotions
      summary: 'Xóa khuyến mãi'
      operationId: 2103693e1ba3059dba187ed87a4db80a
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /public/reviews:
    get:
      tags:
        - Reviews
      summary: 'Xem danh sách đánh giá'
      operationId: d1352c2ddc934caf545e4a45c5975346
      parameters:
        -
          name: product_uuid
          in: query
          schema:
            type: string
            format: uuid
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: rating
          in: query
          schema:
            type: integer
        -
          name: admin_view
          in: query
          schema:
            type: boolean
      responses:
        200:
          description: Success
  /public/reviews/stats:
    get:
      tags:
        - Reviews
      summary: 'Lấy thống kê đánh giá (5 sao, 4 sao...)'
      operationId: 25c4c6008610651b29a52d76aa558a3f
      parameters:
        -
          name: product_uuid
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
  /reviews:
    post:
      tags:
        - Reviews
      summary: 'Tạo đánh giá mới'
      operationId: fb71a3b9781fdda4cb83976b10b69418
      requestBody:
        content:
          application/json:
            schema:
              required:
                - product_uuid
                - rating
              properties:
                product_uuid:
                  type: string
                  format: uuid
                rating:
                  type: integer
                  maximum: 5
                  minimum: 1
                comment:
                  type: string
                images:
                  type: array
                  items:
                    type: string
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/reviews/{uuid}':
    put:
      tags:
        - Reviews
      summary: 'Cập nhật đánh giá'
      operationId: a15331cbca679ed871fedeae4de9f987
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                rating:
                  type: integer
                comment:
                  type: string
                is_approved:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Reviews
      summary: 'Xóa đánh giá'
      operationId: 4620691994824d42f0925ef738ba349f
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  '/public/reviews/{uuid}':
    get:
      tags:
        - Reviews
      summary: 'Xem chi tiết'
      operationId: 75fc9d5eed73d63c227cc8cb4c270ca5
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
  /admin/roles:
    get:
      tags:
        - Roles
      summary: 'Danh sách Roles'
      operationId: 32a55927e34b1d69e3065488f553dacf
      parameters:
        -
          name: q
          in: query
          description: 'Search keyword'
          schema:
            type: string
        -
          name: page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Roles
      summary: 'Tạo Role mới'
      operationId: f646a9f30ec9c63fb375d03abfb9e9cd
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                  example: editor
                description:
                  type: string
                priority:
                  type: integer
              type: object
      responses:
        201:
          description: Created
        422:
          description: 'Validation Error'
      security:
        -
          bearerAuth: []
  '/admin/roles/{uuid}':
    get:
      tags:
        - Roles
      summary: 'Chi tiết Role'
      operationId: 63829330ccbf6f4f4712f4002971eef3
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
        404:
          description: 'Not Found'
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Roles
      summary: 'Cập nhật Role'
      operationId: d8d62fcdcd8bb6d8675c2220ab8d3e6d
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                description:
                  type: string
              type: object
      responses:
        200:
          description: Updated
        403:
          description: 'Forbidden (System Role)'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Roles
      summary: 'Xóa Role'
      operationId: fcec5264356704791561fd53a98e1914
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
        403:
          description: 'Forbidden (System Role)'
      security:
        -
          bearerAuth: []
  /admin/shippings:
    get:
      tags:
        - Shipping
      summary: 'Xem danh sách vận đơn'
      operationId: 24c490146bfeedddb5e7a6ed7d07517d
      parameters:
        -
          name: tracking_number
          in: query
          schema:
            type: string
        -
          name: order_uuid
          in: query
          schema:
            type: string
            format: uuid
        -
          name: status
          in: query
          schema:
            type: string
            enum:
              - pending
              - shipped
              - delivered
              - returned
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Shipping
      summary: 'Tạo vận đơn mới (Ship hàng)'
      operationId: 31569c150218ed2276714c78bc73658b
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - order_uuid
                - provider
                - tracking_number
              properties:
                order_uuid:
                  type: string
                  format: uuid
                provider:
                  type: string
                  example: GHTK
                tracking_number:
                  type: string
                  example: S123456789
                fee:
                  description: 'Phí ship thực tế (nếu có)'
                  type: number
                  nullable: true
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/shippings/{uuid}':
    get:
      tags:
        - Shipping
      summary: 'Xem chi tiết vận đơn'
      operationId: fd764cabc28322a8a8594f2d140cf55b
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Shipping
      summary: 'Cập nhật trạng thái vận đơn'
      operationId: b056ec004f7ee823e224873b2fc3a953
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                status:
                  type: string
                  enum:
                    - shipped
                    - delivered
                    - returned
                    - cancelled
                tracking_number:
                  type: string
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Shipping
      summary: 'Xóa vận đơn'
      operationId: e86ca72f6638428d29ac464996604da3
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /admin/users:
    get:
      tags:
        - Users
      summary: 'Xem danh sách người dùng'
      operationId: ebdb37e0aca7226f6630d2b6f1de6946
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
        -
          name: q
          in: query
          description: 'Search keyword'
          schema:
            type: string
        -
          name: is_active
          in: query
          schema:
            type: boolean
      responses:
        200:
          description: Success
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Users
      summary: 'Tạo người dùng'
      operationId: 88de0372c28d80c0be353a8bcce497e7
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
                - email
                - password
              properties:
                name:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
                  format: password
                is_active:
                  type: boolean
                roles:
                  type: array
                  items:
                    type: integer
              type: object
      responses:
        201:
          description: Created
        422:
          description: 'Validation Error'
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
  '/admin/users/{uuid}':
    get:
      tags:
        - Users
      summary: 'Xem chi tiết người dùng'
      operationId: 0c8ff92257b9f5d7e945b3a8ee6edad6
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
        404:
          description: 'Not Found'
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Users
      summary: 'Cập nhật thông tin'
      operationId: 2d7ab603a4edd1e1187a11eefe3bb856
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                password:
                  type: string
                is_active:
                  type: boolean
                roles:
                  type: array
                  items:
                    type: integer
              type: object
      responses:
        200:
          description: Updated
        403:
          description: Forbidden
        404:
          description: 'Not Found'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Users
      summary: 'Xóa người dùng'
      operationId: 13d69b0c1b0fb851225843080eac0c32
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
        403:
          description: Forbidden
      security:
        -
          bearerAuth: []
  /profile:
    get:
      tags:
        - Users
      summary: 'Xem thông tin cá nhân'
      operationId: 02215cf763020c25fc4b65d33aa9cb9f
      responses:
        200:
          description: Success
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
  /admin/vouchers:
    get:
      tags:
        - Vouchers
      summary: 'Danh sách Voucher'
      operationId: e2a5dde2fcdd1a978c34f43e57257c37
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
        -
          name: is_active
          in: query
          schema:
            type: boolean
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Vouchers
      summary: 'Tạo Voucher'
      operationId: 35f637451d4640e6df954c7488aa5b11
      requestBody:
        content:
          application/json:
            schema:
              required:
                - code
                - value
                - type
                - name
                - quantity
              properties:
                code:
                  type: string
                  example: SALE50
                name:
                  type: string
                type:
                  type: string
                  enum:
                    - fixed
                    - percentage
                value:
                  type: number
                quantity:
                  type: integer
                min_order_value:
                  type: number
                limit_per_user:
                  type: integer
                start_date:
                  type: string
                  format: date-time
                end_date:
                  type: string
                  format: date-time
                is_active:
                  type: boolean
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/vouchers/{uuid}':
    get:
      tags:
        - Vouchers
      summary: 'Xem chi tiết Voucher'
      operationId: e758e2538ccc3d06000bd80c24a43bc4
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Vouchers
      summary: 'Cập nhật Voucher'
      operationId: b1977c67bb4f04656651cae5ae3ae46e
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                quantity:
                  type: integer
                is_active:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Vouchers
      summary: 'Xóa Voucher'
      operationId: c51b52d3abf7485d79968f1368944af0
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /admin/warehouses:
    get:
      tags:
        - Warehouses
      summary: 'Xem danh sách Kho hàng'
      operationId: 6320efc130774dac5aa7c13dafd0ae2b
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: search
          in: query
          schema:
            type: string
        -
          name: manager_id
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Warehouses
      summary: 'Tạo Kho hàng mới'
      operationId: 1a7c4e3a6a3f36dc8ca5a75d54dff1db
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                  example: 'Kho Hồ Chí Minh'
                location:
                  type: string
                  example: 'Quận 7, TP.HCM'
                manager_id:
                  type: integer
                  example: 1
                is_active:
                  type: boolean
                  default: true
              type: object
      responses:
        201:
          description: Created
      security:
        -
          bearerAuth: []
  '/admin/warehouses/{uuid}':
    get:
      tags:
        - Warehouses
      summary: 'Xem chi tiết Kho hàng'
      operationId: 6e939c49cfde0998a14c14a181295f74
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Warehouses
      summary: 'Cập nhật Kho hàng'
      operationId: 9ff30ab1a0694145ef8eb264c224255f
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                location:
                  type: string
                manager_id:
                  type: integer
                is_active:
                  type: boolean
              type: object
      responses:
        200:
          description: Updated
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Warehouses
      summary: 'Xóa Kho hàng'
      operationId: d20e7ee47b740f732b6fbdb123213f44
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
  /wishlist:
    get:
      tags:
        - Wishlist
      summary: 'Xem danh sách yêu thích của tôi'
      operationId: e49e161583e37d955615b2d03da889ad
      parameters:
        -
          name: page
          in: query
          schema:
            type: integer
        -
          name: per_page
          in: query
          schema:
            type: integer
      responses:
        200:
          description: Success
      security:
        -
          bearerAuth: []
  /wishlist/toggle:
    post:
      tags:
        - Wishlist
      summary: 'Thêm/Xóa sản phẩm khỏi Wishlist (Toggle)'
      description: 'Cơ chế Toggle: Nếu sản phẩm chưa có trong wishlist thì thêm vào, nếu có rồi thì xóa đi.'
      operationId: 8da0dd201eb59034c5b91f9f95b991f8
      requestBody:
        content:
          application/json:
            schema:
              required:
                - product_uuid
              properties:
                product_uuid:
                  type: string
                  format: uuid
                  example: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
              type: object
      responses:
        200:
          description: 'Toggled Successfully'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Product added to wishlist'
                type: object
      security:
        -
          bearerAuth: []
  '/wishlist/{uuid}':
    delete:
      tags:
        - Wishlist
      summary: 'Xóa 1 item khỏi Wishlist (Theo UUID Wishlist)'
      operationId: 569c468d2edc411fe87246fc09906947
      parameters:
        -
          name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Deleted
      security:
        -
          bearerAuth: []
components:
  schemas:
    ApiResponse:
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: Success
        data:
          type: object
          nullable: true
      type: object
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
tags:
  -
    name: Address
    description: 'API quản lý địa chỉ giao hàng'
  -
    name: Auth
    description: 'Xác thực & Phân quyền'
  -
    name: Cart
    description: 'API Giỏ hàng'
  -
    name: Categories
    description: 'API quản lý Danh mục sản phẩm'
  -
    name: Collections
    description: 'API quản lý Bộ sưu tập'
  -
    name: Currencies
    description: 'API quản lý Tiền tệ'
  -
    name: Dashboard
    description: 'Báo cáo thống kê hệ thống (Admin Only)'
  -
    name: Inventory
    description: 'Quản lý Tồn kho (Admin/Staff)'
  -
    name: 'System Logs'
    description: 'API xem nhật ký hệ thống (Admin Only)'
  -
    name: Media
    description: 'API quản lý File/Ảnh hệ thống'
  -
    name: Notifications
    description: 'API quản lý thông báo cá nhân'
  -
    name: Orders
    description: 'API quản lý Đơn hàng'
  -
    name: Payments
    description: 'API quản lý Thanh toán'
  -
    name: Permissions
    description: 'Quản lý quyền hạn'
  -
    name: 'Product Attributes'
    description: 'API quản lý thuộc tính'
  -
    name: Products
    description: 'API quản lý sản phẩm (Hỗ trợ Flash Sale & BigInteger)'
  -
    name: 'Product Images'
    description: 'API quản lý ảnh sản phẩm'
  -
    name: Promotions
    description: 'Quản lý chương trình khuyến mãi, giảm giá (BigInteger Support)'
  -
    name: Reviews
    description: 'API quản lý Đánh giá sản phẩm'
  -
    name: Roles
    description: 'Quản lý vai trò (RBAC)'
  -
    name: Shipping
    description: 'API quản lý Vận chuyển (Admin/Shipper)'
  -
    name: Users
    description: 'API quản lý người dùng'
  -
    name: Vouchers
    description: 'Quản lý Mã giảm giá (Admin)'
  -
    name: Warehouses
    description: 'API quản lý Kho hàng (Admin Only)'
  -
    name: Wishlist
    description: 'API quản lý danh sách yêu thích'
security:
  -
    bearerAuth: []
